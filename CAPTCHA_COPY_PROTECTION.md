# üîí –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∫–∞–ø—á–∏

## –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∫–∞–ø—á–∏:
- **SimpleCaptcha.tsx** - –ó–∞—â–∏—Ç–∞ –≤–æ–ø—Ä–æ—Å–∞ –∫–∞–ø—á–∏
- **Captcha.tsx** - –ó–∞—â–∏—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞–ø—á–∏

## –§—É–Ω–∫—Ü–∏–∏ –∑–∞—â–∏—Ç—ã

### 1. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (Ctrl+C, Cmd+C)**
```javascript
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤–æ–ø—Ä–æ—Å–∞
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ API clipboard
```

### 2. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞**
```css
- user-select: none (CSS —É—Ä–æ–≤–µ–Ω—å)
- selectstart —Å–æ–±—ã—Ç–∏–µ (JavaScript —É—Ä–æ–≤–µ–Ω—å)
```

### 3. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é**
```javascript
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ –≤–æ–ø—Ä–æ—Å–µ/–æ—Ç–≤–µ—Ç–µ
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ Copy —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
```

### 4. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è**
```javascript
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç drag & drop —Ç–µ–∫—Å—Ç–∞
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –≤ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

### 5. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ DevTools (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
```javascript
- F12
- Ctrl+Shift+I (Windows/Linux)
- Cmd+Shift+I (Mac)
- Ctrl+Shift+C (Inspect Element)
- Ctrl+Shift+J (Console)
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ (–≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

–ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã SimpleCaptcha –∏–ª–∏ Captcha:

```tsx
import SimpleCaptcha from './components/SimpleCaptcha'

<SimpleCaptcha 
  onSolution={handleSolution}
  onError={handleError}
/>
```

–ó–∞—â–∏—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤–æ–ø—Ä–æ—Å–∞.

### –†—É—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```tsx
import { protectElement, protectElements } from '../utils/copyProtection'

// –ó–∞—â–∏—Ç–∞ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
const cleanup = protectElement(divElement, {
  blockCopy: true,
  blockSelect: true,
  blockContextMenu: true,
  blockDrag: true,
  blockInspect: false  // –†–∞–∑—Ä–µ—à–∏—Ç—å DevTools –≤ –¥–∞–Ω–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ
})

// –ó–∞—â–∏—Ç–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ —Å–µ–ª–µ–∫—Ç–æ—Ä—É
const cleanup = protectElements('.captcha-question', {
  blockCopy: true,
  blockSelect: true
})

// –£–¥–∞–ª–∏—Ç—å –∑–∞—â–∏—Ç—É
cleanup()
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

### `client/src/utils/copyProtection.ts`
–û—Å–Ω–æ–≤–Ω–æ–π —É—Ç–∏–ª–∏—Ç –¥–ª—è –∑–∞—â–∏—Ç—ã:
- `protectElement()` - –ó–∞—â–∏—Ç–∞ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
- `protectElements()` - –ó–∞—â–∏—Ç–∞ –ø–æ CSS —Å–µ–ª–µ–∫—Ç–æ—Ä—É
- `useCopyProtection()` - React —Ö—É–∫ –¥–ª—è –∑–∞—â–∏—Ç—ã

### `client/src/components/Captcha.tsx`
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞–ø—á–∏ —Å –∑–∞—â–∏—Ç–æ–π

### `client/src/components/SimpleCaptcha.tsx`
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–æ–ø—Ä–æ—Å–∞ –∫–∞–ø—á–∏ —Å –∑–∞—â–∏—Ç–æ–π

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞—â–∏—Ç—ã

### –ü—Ä–∏–º–µ—Ä 1: –ó–∞—â–∏—Ç–∞ –≤–æ–ø—Ä–æ—Å–∞
```tsx
const questionRef = useRef<HTMLDivElement>(null)

useEffect(() => {
  if (questionRef.current && question) {
    return protectElement(questionRef.current, {
      blockCopy: true,
      blockSelect: true,
      blockContextMenu: true
    })
  }
}, [question])

return <div ref={questionRef}>{question.text}</div>
```

### –ü—Ä–∏–º–µ—Ä 2: –ó–∞—â–∏—Ç–∞ —Å –æ–ø—Ü–∏—è–º–∏
```tsx
const options = {
  blockCopy: true,           // –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
  blockSelect: true,         // –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ
  blockContextMenu: true,    // –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
  blockDrag: true,          // –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ
  blockInspect: false        // –†–∞–∑—Ä–µ—à–∏—Ç—å DevTools
}

protectElement(captchaElement, options)
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –≠—Ç–∞ –∑–∞—â–∏—Ç–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ)**!

### –†–µ–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è:
1. **Backend –≤–∞–ª–∏–¥–∞—Ü–∏—è** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. **Rate limiting** - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫
3. **IP –±–∞–Ω** - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö IP
4. **Session timeout** - –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫–∞–ø—á–∏
5. **CSRF —Ç–æ–∫–µ–Ω—ã** - –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–¥–¥–µ–ª–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

### –ß—Ç–æ –ù–ï –∑–∞—â–∏—â–∞–µ—Ç:
‚ùå DevTools –∫–æ–Ω—Å–æ–ª—å (–µ—Å–ª–∏ blockInspect –æ—Ç–∫–ª—é—á–µ–Ω)  
‚ùå –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã  
‚ùå Network –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä  
‚ùå –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è  

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å:
```javascript
‚ö†Ô∏è –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–ø—á–∏ –∑–∞–ø—Ä–µ—â–µ–Ω–æ
‚ö†Ô∏è –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –Ω–∞ –∫–∞–ø—á–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ
```

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –±—Ä–∞—É–∑–µ—Ä–æ–≤

‚úÖ Chrome/Edge 90+  
‚úÖ Firefox 88+  
‚úÖ Safari 14+  
‚úÖ Opera 76+  

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞** - —Ç–æ–ª—å–∫–æ DOM –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç event delegation
- **–ë—ã—Å—Ç—Ä–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ** - cleanup —Ñ—É–Ω–∫—Ü–∏—è —É–¥–∞–ª—è–µ—Ç –≤—Å–µ —Å–ª—É—à–∞—Ç–µ–ª–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞—â–∏—Ç—É –º–æ–∂–Ω–æ –≤ DevTools –∫–æ–Ω—Å–æ–ª–∏:

```javascript
// –ü–æ–ø—ã—Ç–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞
document.querySelector('.captcha-question').textContent  // –í—ã–¥–µ–ª–∏—Ç—Å—è, –Ω–æ –Ω–µ —Å–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è

// –ü–æ–ø—ã—Ç–∫–∞ –≤—ã–¥–µ–ª–∏—Ç—å —Ç–µ–∫—Å—Ç
document.querySelector('.captcha-question').style.userSelect  // 'none'

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
getEventListeners(element)  // –ë—É–¥—É—Ç –≤–∏–¥–Ω—ã 'copy', 'selectstart', 'contextmenu'
```

## –ò—Ç–æ–≥–æ

‚úÖ –ü–æ–ª–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∫–∞–ø—á–∏  
‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é  
‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö  
‚úÖ –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞  
‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
